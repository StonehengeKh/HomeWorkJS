<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>hw-03</title>
</head>
<body>
    <header>
        <h2>Makarenko Aleksandr</h2>
        <h3>Home work 03</h3>
    </header>
    <main>
        <section>
            <h4>Задание 1</h4>
            <h5>Обязательная часть ( 3 балла )</h5>
            <p>Объявите функцию без формальных параметров, которая выводит в консоль сама себя и все переданные ей аргументы Вызовите эту функцию с аргументами 10, false, "google"</p>
            <pre>
                <code>
                    function firstTask () {
                        console.log ( arguments.callee, arguments )
                    }

                    firstTask( 10, false, "google" )
                </code>
            </pre>
        </section>
        <section>
            <h4>Задание 2</h4>
            <h5>Дополнительно ( 4 балла )</h5>
            <p>Объявите функцию userInfo, которая выводит в консоль:</p>
            <ul>
                <li>свойство "Дата регистрации: " + свойство data контекста вызова, если свойство registered имеет значение true</li>
                <li>сообщение "Незарегистрированный пользователь: " + свойство name в противном случае</li>
            </ul>
            <p>( используйте переменные в литералах )</p>
            <p>Создайте два объекта с одинаковым набором свойств:</p>
            <ul>
                <li>name ( строка )</li>
                <li>registered ( логическое значение )</li>
                <li>data ( дата в формате "дд.мм.гг" )</li>
            </ul>
            <p>Добавьте каждому объекту метод getInfo, который будет ссылкой на функцию userInfo.
            Вызовите каждый метод</p>
            <pre>
                <code>
                    function userInfo () {
                        this.registered === true ? console.log( `Дата регистрации: ${this.data}` ) : console.log( `Незарегистрированный пользователь: ${this.name}` )
                    }

                    var firstObj = {
                        name: "Alex",
                        registered: true,
                        data: new Date().toLocaleString(),
                        getInfo: userInfo
                    }

                    var secondObj = {
                        name: "Vita",
                        registered: false,
                        data: new Date().toLocaleString(),
                        getInfo: userInfo
                    }

                    firstObj.getInfo()
                    secondObj.getInfo()
                </code>
            </pre>
        </section>
        <section>
            <h4>Задание 3</h4>
            <h5>Дополнительно ( 5 баллов )</h5>
            <p>Есть три объекта: users, posts и comments
            ( готовые объекты уже ждут вас по ссылке )
            Написать код функции getPostComments ( postId ),
            которая возвращает массив всех комментариев к посту
            с идентификатором postId ( с именем автора комментария и текстом комментария )</p>
            <pre>
                <code>
                    var users = {
                        14587: {
                            name: "Ivan",
                            email: "ivan78@gmail.com"
                        },
                        28419: {
                            name: "Georg",
                            email: "georg.klep@gmail.com"
                        },
                        41457: {
                            name: "Stephan",
                            email: "stephan.borg@gmail.com"
                        }
                    }

                    var posts = {
                        7891451: {
                            author: 14587,
                            text: "Imagine we can encapsulate these secondary responsibilities in functions"
                        },
                        7891452: {
                            author: 28419,
                            text: `В конструкторе ключевое слово super используется как функция, вызывающая родительский конструктор.
                                        Её необходимо вызвать до первого обращения к ключевому слову this в теле конструктора.
                                        Ключевое слово super также может быть использовано для вызова функций родительского объекта`
                        },
                        7891453: {
                            author: 28419,
                            text: `DOM не обрабатывает или не вынуждает проверять пространство имен как таковое.
                                        Префикс пространства имен, когда он связан с конкретным узлом, не может быть изменен`
                        },
                        7891454: {
                            author: 14587,
                            text: "Ключевое слово super используется для вызова функций, принадлежащих родителю объекта"
                        }
                    }

                    var comments = {
                        91078454: {
                            postId: 7891451,
                            author: 28419,
                            text: `The static String.fromCharCode() method returns a string created
                                            from the specified sequence of UTF-16 code units`
                        },
                        91078455: {
                            postId: 7891451,
                            author: 41457,
                            text: `HTML элемент &lttemplate> — это механизм для отложенного рендера клиентского контента,
                                            который не отображается во время загрузки, но может быть инициализирован при помощи JavaScript`
                        },
                        91078457: {
                            postId: 7891452,
                            author: 41457,
                            text: "Глобальный объект String является конструктором строк, или, последовательностей символов"
                        },
                        91078458: {
                            postId: 7891452,
                            author: 14587,
                            text: `The Element.namespaceURI read-only property returns the namespace URI of the element,
                                            or null if the element is not in a namespace`
                        }
                    }

                    function getCurrentPostComments ( postId ) {
                        var res = []
                        for ( var x in comments ) {
                            postId === comments[x].postId ? res.push({
                                name: users[comments[x].author].name,
                                text: comments[x].text
                            }) : null
                        }
                        return res
                    }

                    console.log ( getCurrentPostComments ( 7891451 ) )
                </code>
            </pre>
        </section>
    </main>
</body>
</html>